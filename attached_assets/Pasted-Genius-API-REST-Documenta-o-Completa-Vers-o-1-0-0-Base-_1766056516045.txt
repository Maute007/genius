Genius API REST - Documenta√ß√£o Completa
Vers√£o: 1.0.0
Base URL: https://genius-app.com/api/v1
Autentica√ß√£o: API Key (header X-API-Key)



üìã √çndice
1Autentica√ß√£o
2Conversas
3Mensagens
4Perfis
5Exemplos cURL
6C√≥digos de Erro



Autentica√ß√£o
Todos os endpoints requerem autentica√ß√£o via API Key.

Header Obrigat√≥rio:
X-API-Key: sua-chave-api-aqui

Exemplo:
curl -H "X-API-Key: seu-api-key" https://genius-app.com/api/v1/conversations



Conversas
GET /conversations
Listar todas as conversas do utilizador.

M√©todo: GET
Autentica√ß√£o: Obrigat√≥ria
Par√¢metros: Nenhum

Resposta (200):
{
  "success": true,
  "data": [
    {
      "id": 1,
      "userId": 123,
      "profileId": 123,
      "title": "√Ålgebra - Equa√ß√µes",
      "mode": "quick_doubt",
      "subject": "Matem√°tica",
      "topic": "Equa√ß√µes do 2¬∫ grau",
      "isActive": true,
      "createdAt": "2025-12-09T10:30:00Z",
      "updatedAt": "2025-12-09T10:30:00Z"
    }
  ],
  "count": 1
}



GET /conversations/:id
Obter uma conversa espec√≠fica.

M√©todo: GET
Autentica√ß√£o: Obrigat√≥ria
Par√¢metros:
‚Ä¢id (path) - ID da conversa

Resposta (200):
{
  "success": true,
  "data": {
    "id": 1,
    "userId": 123,
    "profileId": 123,
    "title": "√Ålgebra - Equa√ß√µes",
    "mode": "quick_doubt",
    "subject": "Matem√°tica",
    "topic": "Equa√ß√µes do 2¬∫ grau",
    "isActive": true,
    "createdAt": "2025-12-09T10:30:00Z",
    "updatedAt": "2025-12-09T10:30:00Z"
  }
}

Resposta (404):
{
  "success": false,
  "error": "Conversation not found"
}



POST /conversations
Criar uma nova conversa.

M√©todo: POST
Autentica√ß√£o: Obrigat√≥ria
Content-Type: application/json

Body:
{
  "title": "√Ålgebra - Equa√ß√µes",
  "mode": "quick_doubt"
}

Par√¢metros:
‚Ä¢title (string, obrigat√≥rio) - T√≠tulo da conversa
‚Ä¢mode (string, obrigat√≥rio) - Modo: quick_doubt, exam_prep, revision, free_learning

Resposta (201):
{
  "success": true,
  "data": {
    "id": 2,
    "userId": 123,
    "title": "√Ålgebra - Equa√ß√µes",
    "mode": "quick_doubt",
    "createdAt": "2025-12-09T10:35:00Z"
  }
}



PUT /conversations/:id
Atualizar uma conversa.

M√©todo: PUT
Autentica√ß√£o: Obrigat√≥ria
Content-Type: application/json

Body:
{
  "title": "√Ålgebra - Equa√ß√µes Quadr√°ticas",
  "mode": "exam_prep"
}

Par√¢metros:
‚Ä¢title (string, opcional) - Novo t√≠tulo
‚Ä¢mode (string, opcional) - Novo modo

Resposta (200):
{
  "success": true,
  "data": {
    "id": 1,
    "title": "√Ålgebra - Equa√ß√µes Quadr√°ticas",
    "mode": "exam_prep",
    "updatedAt": "2025-12-09T10:40:00Z"
  }
}



DELETE /conversations/:id
Deletar uma conversa (e todas as suas mensagens).

M√©todo: DELETE
Autentica√ß√£o: Obrigat√≥ria
Par√¢metros:
‚Ä¢id (path) - ID da conversa

Resposta (200):
{
  "success": true,
  "message": "Conversation deleted successfully"
}



Mensagens
GET /conversations/:conversationId/messages
Listar todas as mensagens de uma conversa.

M√©todo: GET
Autentica√ß√£o: Obrigat√≥ria
Par√¢metros:
‚Ä¢conversationId (path) - ID da conversa

Resposta (200):
{
  "success": true,
  "data": [
    {
      "id": 1,
      "conversationId": 1,
      "role": "user",
      "content": "O que √© uma equa√ß√£o quadr√°tica?",
      "tokens": 10,
      "createdAt": "2025-12-09T10:30:00Z"
    },
    {
      "id": 2,
      "conversationId": 1,
      "role": "assistant",
      "content": "Uma equa√ß√£o quadr√°tica √©...",
      "tokens": 50,
      "createdAt": "2025-12-09T10:30:30Z"
    }
  ],
  "count": 2
}



POST /conversations/:conversationId/messages
Adicionar uma mensagem a uma conversa.

M√©todo: POST
Autentica√ß√£o: Obrigat√≥ria
Content-Type: application/json

Body:
{
  "content": "O que √© uma equa√ß√£o quadr√°tica?",
  "role": "user"
}

Par√¢metros:
‚Ä¢content (string, obrigat√≥rio) - Conte√∫do da mensagem
‚Ä¢role (string, obrigat√≥rio) - Papel: user ou assistant

Resposta (201):
{
  "success": true,
  "data": {
    "id": 3,
    "conversationId": 1,
    "role": "user",
    "content": "O que √© uma equa√ß√£o quadr√°tica?",
    "createdAt": "2025-12-09T10:35:00Z"
  }
}



PUT /conversations/:conversationId/messages/:messageId
Atualizar uma mensagem.

M√©todo: PUT
Autentica√ß√£o: Obrigat√≥ria
Content-Type: application/json

Body:
{
  "content": "O que √© uma equa√ß√£o quadr√°tica? (editado)"
}

Par√¢metros:
‚Ä¢content (string, obrigat√≥rio) - Novo conte√∫do

Resposta (200):
{
  "success": true,
  "data": {
    "id": 1,
    "content": "O que √© uma equa√ß√£o quadr√°tica? (editado)"
  }
}



DELETE /conversations/:conversationId/messages/:messageId
Deletar uma mensagem.

M√©todo: DELETE
Autentica√ß√£o: Obrigat√≥ria
Par√¢metros:
‚Ä¢conversationId (path) - ID da conversa
‚Ä¢messageId (path) - ID da mensagem

Resposta (200):
{
  "success": true,
  "message": "Message deleted successfully"
}



Perfis
GET /profiles/:userId
Obter perfil do utilizador.

M√©todo: GET
Autentica√ß√£o: Obrigat√≥ria
Par√¢metros:
‚Ä¢userId (path) - ID do utilizador

Resposta (200):
{
  "success": true,
  "data": {
    "id": 123,
    "openId": "user-123",
    "name": "Jo√£o Silva",
    "email": "joao@example.com",
    "role": "user",
    "plan": "student",
    "subscriptionStatus": "active",
    "createdAt": "2025-12-01T00:00:00Z"
  }
}



PUT /profiles/:userId
Atualizar perfil do utilizador.

M√©todo: PUT
Autentica√ß√£o: Obrigat√≥ria
Content-Type: application/json

Body:
{
  "name": "Jo√£o Silva Atualizado",
  "email": "joao.novo@example.com"
}

Par√¢metros:
‚Ä¢name (string, opcional) - Novo nome
‚Ä¢email (string, opcional) - Novo email

Resposta (200):
{
  "success": true,
  "data": {
    "id": 123,
    "name": "Jo√£o Silva Atualizado",
    "email": "joao.novo@example.com",
    "updatedAt": "2025-12-09T10:45:00Z"
  }
}



Exemplos cURL
Listar conversas
curl -X GET \
  https://genius-app.com/api/v1/conversations \
  -H "X-API-Key: sua-chave-api"

Criar conversa
curl -X POST \
  https://genius-app.com/api/v1/conversations \
  -H "X-API-Key: sua-chave-api" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "√Ålgebra - Equa√ß√µes",
    "mode": "quick_doubt"
  }'

Adicionar mensagem
curl -X POST \
  https://genius-app.com/api/v1/conversations/1/messages \
  -H "X-API-Key: sua-chave-api" \
  -H "Content-Type: application/json" \
  -d '{
    "content": "O que √© uma equa√ß√£o quadr√°tica?",
    "role": "user"
  }'

Listar mensagens
curl -X GET \
  https://genius-app.com/api/v1/conversations/1/messages \
  -H "X-API-Key: sua-chave-api"

Atualizar conversa
curl -X PUT \
  https://genius-app.com/api/v1/conversations/1 \
  -H "X-API-Key: sua-chave-api" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "√Ålgebra - Equa√ß√µes Quadr√°ticas"
  }'

Deletar conversa
curl -X DELETE \
  https://genius-app.com/api/v1/conversations/1 \
  -H "X-API-Key: sua-chave-api"



C√≥digos de Erro
C√≥digo	Significado	Exemplo
200	OK - Requisi√ß√£o bem-sucedida	GET, PUT, DELETE
201	Created - Recurso criado com sucesso	POST
400	Bad Request - Par√¢metros inv√°lidos	Falta campo obrigat√≥rio
401	Unauthorized - API key inv√°lida	Header X-API-Key ausente
403	Forbidden - Acesso negado	Tentar acessar recurso de outro utilizador
404	Not Found - Recurso n√£o encontrado	Conversa/mensagem n√£o existe
500	Internal Server Error - Erro do servidor	Erro inesperado


Resposta de Erro Padr√£o
{
  "success": false,
  "error": "Descri√ß√£o do erro"
}



Notas Importantes
7Autentica√ß√£o: Todos os endpoints requerem o header X-API-Key
8Seguran√ßa: N√£o compartilhe sua API key publicamente
9Rate Limiting: Implementar rate limiting em produ√ß√£o (em breve)
10Pagina√ß√£o: Implementar pagina√ß√£o para listas grandes (em breve)
11Valida√ß√£o: Todos os inputs s√£o validados no servidor
12Timestamps: Todos os timestamps est√£o em ISO 8601 (UTC)



Suporte
Para suporte t√©cnico, contacte: support@genius.mz